<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<title>insert page</title>
<script type="text/javascript" src="http://code.jquery.com/jquery-2.1.1.min.js"></script>
<script type="text/javascript">
$(document).ready(function () {
	var websocket = new WebSocket('ws://127.0.0.1:5000');

	$('#send').click(function() {
		websocket.send($('input').val());
	});

	websocket.onmessage = function (evt) 
	{ 
	   $('#output').val(evt.data);
	};
	
	$('#sendajax').click(function(){
		
		$.ajax({
		   url: 'http://127.0.0.1:5000/messaging',  
		   async: true,
		   type: 'POST',
		   dataType: 'json',
		   data:JSON.stringify({message: "TEST"})
		   })
		    .done(function(response) {
			console.log( "success" );
			console.log( response );
			})
			.fail(function() {
			console.log( "error" );
			})
			.always(function() {
			console.log( "complete" );
        });
	});
	
});



</script>
</head>

<body>
<p>
Result: <output id="output"> </output>
</p>

<input type=text id="input" />

<input type="button" id="send" value="send" />
<input type="button" id="sendajax" value="sendajax" />
</body>

</html>
